version: "3.1"

# ConfiguraciÃ³n de la sesiÃ³n
config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

# 1. INTENCIONES
intents:
  - greet
  - goodbye
  - consultar_criterio  # Para CU-2
  - obtener_guia        # Para CU-3
  - validar_codigo      # Para CU-4
  - consultar_glosario  # Para CU-5
  - navegar_principios  # Para CU-1
  - bot_challenge       # (EstÃ¡ndar de Rasa)

# 2. ENTIDADES
entities:
  - criterio_id

# 3. RESPUESTAS (A la espera...)
# Placeholders de texto y botones.
responses:
  utter_greet:
    - text: "Â¡Hola! Soy tu asistente de accesibilidad WCAG 2.1. Â¿En quÃ© te ayudo?"
      buttons:
        - title: "Navegar por Principios ğŸ§­"
          payload: "/navegar_principios"
        - title: "Validar mi cÃ³digo ğŸ”"
          payload: "/validar_codigo"

  utter_goodbye:
    - text: "Â¡AdiÃ³s! Sigue programando de forma accesible."

  utter_iamabot:
    - text: "Soy un bot, creado para ayudarte a aplicar el estÃ¡ndar WCAG 2.1."

  # Respuestas para CU-1: Navegar
  utter_ask_principle:
    - text: "El estÃ¡ndar WCAG se basa en 4 principios. Â¿CuÃ¡l quieres explorar?"
      buttons:
        - title: "1. Perceptible"
          payload: '/consultar_criterio{"criterio_id": "principio_1"}'
        - title: "2. Operable"
          payload: '/consultar_criterio{"criterio_id": "principio_2"}'
        - title: "3. Comprensible"
          payload: '/consultar_criterio{"criterio_id": "principio_3"}'
        - title: "4. Robusto"
          payload: '/consultar_criterio{"criterio_id": "principio_4"}'

  # Respuestas para CU-4: Validar
  utter_ask_validation:
    - text: "Â¡Perfecto! Pega tu fragmento de HTML aquÃ­. HarÃ© una revisiÃ³n rÃ¡pida buscando errores comunes de Nivel A."

  # Respuesta por defecto
  utter_default:
    - text: "Lo siento, no entendÃ­ eso. Â¿Puedes reformularlo? Puedes usar los botones para guiarte."

# 4. ACCIONES 
actions:
  - action_validate_code

  # Es la acciÃ³n que conectarÃ¡ con el JSON (Nohelia). Se encargarÃ¡ de buscar el criterio, guÃ­a o glosario.
  - action_get_content